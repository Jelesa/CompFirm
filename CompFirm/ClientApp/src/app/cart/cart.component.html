<div class="container d-flex"
     *ngIf="cartItems && cartItems.length > 0">

  <div class="cart-items"
       *ngIf="cartItems && cartItems.length > 0">

    <div class="card-product"
         *ngFor="let item of cartItems; let i = index">
      <div>
        <img class="item-photo" [src]="item.productImage">
      </div>

      <div class="cart-item-info">
        <div class="cart-item-row">
          <div class="header">
            {{item.productName}}
          </div>
          <div>
            <div>Цена: {{item.productPrice}}</div>
          </div>
          <div class="counter">
            <div class="counter-button"
                 (click)="decreaseCartCount(i)">
              -
            </div>
            <div>
              <input type="text" [(ngModel)]="item.count" />
            </div>
            <div class="counter-button"
                 (click)="increaseCartCount(i)">
              +
            </div>
          </div>
        </div>
        <div class="cart-item-row">
          <div class="button"
               (click)="deleteCartItem(item.productId)">
            Удалить
          </div>
          <div class="form-catalog-price">
            <span>Стоимость: </span><span class="price">{{item.productPrice * item.count}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="cart-confirm">
    <div class="request">
      <div class="request-header">Условия заказа</div>
      <div class="request-sum">
        Итого:
      </div>

      <div class="d-flex request-text">
        <div>
          {{cartItems.length}} товар(-ов)
        </div>
        <div>
          {{getTotalSum()}}
        </div>
      </div>

      <div class="button"
           (click)="sendRequest()">
        Заказать
      </div>
    </div>
  </div>
</div>

<div class="empty-cart"
     *ngIf="!orderConfirmed && cartItems && cartItems.length === 0">
  <div class="empty-cart-header">
    Корзина пуста
  </div>
  <div>
    Перейти на <a [routerLink]="['']" [routerLinkActive]="['link-active']">главную страницу</a>
  </div>
</div>

<div class="cart-items"
     *ngIf="orderConfirmed">
  <div class="empty-cart-header">
    Ваш заказ подтвержден
  </div>
  <div>
    Вы можете отслеживать статус заказа в <a [routerLink]="['/cabinet']" [routerLinkActive]="['link-active']">личном кабинете</a>
  </div>
  <div>
    Или <a [routerLink]="['']" [routerLinkActive]="['link-active']">продолжить покупки</a>
  </div>
</div>
